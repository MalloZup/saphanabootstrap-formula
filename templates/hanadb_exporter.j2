{# context is coming from exporter.sls #}
{
  "exposition_port": {{ node.exporter.exposition_port|default(9668) }},
  "multi_tenant": {{ node.exporter.multi_tenant|default(true)|tojson }},
  "timeout": {{node.exporter.timeout|default(600)}},
  "hana": {
    "host": "{{ node.host }}",
    {% if node.exporter.multi_tenant|default(true) is sameas true and node.exporter.port is not defined %}
    "port": 3{{ sap_instance_nr }}13,
    {% else %}
    "port": {{ node.exporter.port }},
    {% endif %}
    "user": "{{ node.exporter.user }}",
    "password": "{{ node.exporter.password }}"
  },
  "logging": {
    "config_file": "/etc/hanadb_exporter/logging_config.ini",
    "log_file": "/var/log/hanadb_exporter_{{ exporter_instance }}.log"
  }
}
